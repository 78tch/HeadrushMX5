# HeadrushMX5
## 0.なによりもまずノイズ対策
MX5の電源について、「アースをつなぐ」か、「モバイルバッテリーから電源をとる」と、ノイズを低減できることがある。
自宅の壁コンセントにはアースがないため、MX5の電源ケーブルを2ピンのみで壁コンセントにつないで、ヘッドホンで使用したところ、ノイズがひどかった。
弦に手を触れたり、電源ケーブルのアースリードを指でつまんだり、MX5の金属部分にさわったりすると、ノイズは消えるものの、演奏時にどうしてもノイズが出てしまった。
根本解決するために、アースなどのノイズ対策の必要性を実感した。
しかし、アース線をネジ留めできる壁コンセントというのは、洗濯機や冷蔵庫やエアコン用ぐらいで、普通の居室の壁コンセントには、アースがついていないことが多い。
  
- 試したこと１：行きつけの近所のスタジオでの、ミキサー直つなぎのPAスピーカー環境で、壁コンセントはアースつきだったため、2ピンではなく3ピンの電源ケーブルを使ってアースをつないだところ、ノイズが出なくなった。使用したACアダプタの電源ケーブルは、「ミッキー型3ピンソケット(IEC 60320 C5) to アース付き3ピンプラグAタイプ オス」のもので、もとはVOX Adio Air GT に付属していたもの。付属のACアダプターに、逆接地アダプター（2P + アースリード → 接地 2P）を付けてもよい。
※分電盤でアースが端子台に集約されているなどで、別の電気機器とアースを共有していると、却ってノイズをもらうこともありうる？要検証。
- 試したこと２：自宅でのヘッドホン環境で、電源を壁コンセントではなく、モバイルバッテリーからとったところ、ノイズが低減した。使用したのは「モバイルバッテリー（12V3Aを出力可能なもの）」と「 USB-C PD トリガーケーブル（5.5mm/2.5 2.1mm 9V 12V 15V 20V）」。
MX5 の電源仕様は、「12V、3.0A、センタープラスの外径5.5mm、内径2.1mm」で、付属のACアダプタの電源ケーブルは「ミッキー型3pソケット to 2P + アースリード」である。
- 残課題：自宅ではヘッドホン使用が基本なので、ヘッドホン使用時において「ACアダプターをアースにつなぐ」のと、「モバイルバッテリーから電源をとる」のとで、どちらがよりノイズが少ないのか、今後、比較したい。

## 1. 基本的な使い方
### 1-1. セットリストを選択
まず、タッチパネルの左上のハンバーガーメニューから、「セットリスト」を選択する。  
これにより、「Rig移動」の対象が、選択したセットリストに入っているRigだけに絞られる。  
標準ではセットリストが「ALL Rigs」（270個）になっているため、1周するのに270回のRig移動をしなければならないが、例えば10個のRigのセットリストを選択しておけば、10回のRig移動で1周する。  
すなわち、セットリストとは、「ALL Rigs」のサブセットである。  
初期状態でも、いつくかセットリストがあるが、「気に入ったRigを集めたセットリスト」を自分で作ってそれを選択しておくと便利。  
### 1-2.フットスイッチの「シーン」機能
FSは、標準では、1つのMODELをON/OFFするようになっているが、複数のMODELSをまとめてON/OFFするようにも設定できる。  
これを「シーン」という。  
初期のファームウェアでは、「シーン」が1回しか作動せず、2回めに踏んでも元の状態に戻らなかったため、「シーン」機能は使いづらかった。
しかしファームウェアがアップデートされて、「シーン」でも繰り返し「ON/OFF」ができるようになった。
### 1-3.演奏時は「Hybridモード」が便利
FSが3つしかないため、演奏時に使うモードとしては、「Hybridモード」と「STOMPモード」で迷うところ。
「Hybridモード」では、FS1が「モデル」や「シーン」の「ON/OFF」に割り当てられ、FS2とFS3はRigの切替になる。
いっぽう、「STOMP」モードはFSを3つとも「モデル」や「シーン」の「ON/OFF」に割り当て、Rigの切替はFS1とFS2の同時押し、FS2とFS3の同時押し、となる。
「Rigモード」はFSが3つともRig切替に割り当てられ、FS1とFS2、FS2とFS3の同時押しでRigを3つ分移動するが、ちょっと使いづらい。
1つのRigにおいて、切り替えがVerse -> Solo -> Verse のように、2つの状態を行き来するだけであれば、FS1に、「シーン」を割り当てれば充分で、FS2、FS3はRig移動がよい。
なお、FS2、FS3にもModelやシーンの「ON/OFF」を割り当てられるが、RigモードやHybridモードではFS2、FS3にはほかのことがアサインされてしまうので、FS2、FS3をON/OFFに使えるのはSTOMPモードの時だけ。  
RigモードやHybridモードでは、Rig移動するのには、FSを2個同時押ししなければならないので、ちょっと使いづらい。  
以上から、演奏の時には、「Hybridモード」が使いやすい。

## 2. MX5内部のデータ構造
MX5をPCに接続すると、ディスクのなかに５つのフォルダと１つのファイルがある。  
「Blocks」「Rigs」「Setlists」「ImpulseResponses」「Loops」「LockScreenLogo.png」（800x400）  
それぞれのフォルダのなかに、設定ファイルなどが入っている。  
### 2-1. Blocksフォルダ（MODELS）
[MODELS 一覧](https://github.com/78tch/HeadrushMX5/blob/master/Models.md)  
「MODELS」の実態としてのファイルは、「Blocks」フォルダのなかに入っている。  
アンプは、さらに「AMP」サブフォルダのなかに入っている。  
キャビネットは、さらに「CAB」サブフォルダのなかに入っている。  
その他のMODELSは、「Blocks」フォルダ直下に入っている。  
（マイクはどういう形で入っているか不明）  
※IRも含めた、各モデルとベースになった実機の一覧を表にした人がいる。  
https://www.talkbass.com/attachments/headrush-models-pdf.3653726/
  
### 2-2. Rigsフォルダ
[Rigs 一覧](https://github.com/78tch/HeadrushMX5/blob/master/Rigs.md)  
MX5のRigは、いわゆるプリセットのこと。  
MX5には、「プリセットバンク、ユーザーバンク」というような区別はないが、代わりに「セットリスト」でRigをグループ化する。  
プリセットのRigは270個あるが、ユーザーが作ったRigは、最後尾に271個目以降として追加される。  
標準ではRigの名前の昇順になっているので、名付けを工夫すれば、「ALL RIGS」Setlist の並び順を制御できる。
ディスク容量いっぱいまでひたすら保存できる模様。  
### 2-3. Setlistsフォルダ
[Setlists 一覧](https://github.com/78tch/HeadrushMX5/blob/master/Setlists.md)  
セットリストごとに、その設定ファイルが入っている。
「セットリスト」とは、いくつかのRigを好みの順に並べてグループ化したもののこと。  
セットリストは、画面左肩で選択できる。  
標準では、セットリスト選択が「ALL RIGS」（270個全部）になっている。  
使いたいRigだけでセットリストを作って、最初にそのセットリストを選択してから使うと、無駄なRig移動をせずに済むようになる。  
なお、STOMP・RIG・HYBRIDのどのモードにおいても、Rig移動する範囲は、選択したセットリスト内のRigのみになる。  
セットリストに入っていないRigは、スキップされるので、「その時使うRigを使う順に並べたセットリスト」を作って、それに切り替えておけばよい。  
### 2-4. Impulse Responsesフォルダ
WAVフォーマットのIRファイルに対応。  
最大192kHz、32bit、2,048サンプルまで。  
IRファイルは一般にデータサイズが小さいので、数千個でも保存できる。  
IRファイルの保存場所は、ディスクのなかの「ImpulseResponses」フォルダのなか。  
キャビネット名などのサブフォルダのなかに、マイク別、サンプリング数別などに、個々のIRファイルが入っている。  
ブロックに割り当てる場合は、IR（2048サンプル）か、IR(1024)（1024サンプル）かを選び（通常は2048）、キャビネット名（サブフォルダ）を選んで、さらに個々のIRファイルまで選んで割り当てる。  
単品のIRファイルは、「USER」
- Preset:IR、設定、色
- Folder:IRファイルが入っているフォルダ。（「ImpulseResponses」フォルダのなかのサブフォルダ。）
- IR File:個々のWAVファイル。
- Gain:
- HiCut:16～18kHz以上をカット。
- LoCut:80～100Hz以下をカット。
- Mix:  
### 2-5. Loopsフォルダ
初期状態では、何も入っていない。  
ルーパーで録音したら、音声ファイルが入る模様。  
### 2-6. 「LockScreenLogo.png」（800x400）
Rigを開いている時に、MODELS表示ではなく、LockScreenLogo表示にできる。  
その時にモニターに表示される画像がこれ。  
800x400に調節して表示される。  
## 3. 画面の種類
### 3-1. モード
演奏時のモードには「Stomp」「Rig」「Hybrid」の3つある。  
違いはFSの働き。（Hold時の働きは変わらない。）  
シャットダウン時のモードが記憶され、次回起動時にもそのモードで起動する。  
|No|Mode|FS1|FS2|FS3|FS1Hold|FS2Hold|FS3Hold|FS1FS2|FS2FS3|
|--|--|--|--|--|--|--|--|--|--|
|1|Stomp|On/Off|On/Off|On/Off|切替画面|Looper|Tuner|↓|↑|  
|2|Rig|Rig1|Rig2|Rig3|切替画面|Looper|Tuner|↓|↑|  
|3|Hybrid|On/Off|↓|↑|切替画面|Looper|Tuner|↓|↑|  
  
### 3-2. 「モード切替画面」における画面遷移  
いずれのモードにおいても、FS1Holdで「モード切替画面」となる。  
なお、Rigモードの「1と2で↓、2と3で↑のバンク移動」というのは、バンクというよりも、Rig3つ分ずつセットリストのフォーカスを移動する、という感じ。  
|No|切り替え|モード名|用途|画面|
|--|--|--|--|--|
|1|FS1|Stompモード|各FSでMODELをON/OFF、1と2で↓、2と3で↑のRig移動||
|2|FS2|Rigモード|各FSでRigを呼び出す、1と2で↓、2と3で↑のバンク移動||
|3|FS3|Hybridモード|FS1でMODELをON/OFFやシーンを切り替え、2で↑、3で↓のRig移動||
|4|FS1Hold|HANDS-FREEモード|FSとPEDALでRigの設定変更||
|5|FS2Hold|Setlistモード|タッチパネルを使わずFSでセットリストを切り替える。1で選択、2で↓、3で↑のSetlist移動、1HoldでAll Rigs||
|6|FS3Hold|(UN)LOCK|MODELS画面がLOGO画面になり、タッチパネルでエディットできなくなる。ロックアイコンをタップで解除。|
  
## 4. 設定
### 4-1. 初期化方法
Factroy Reset 方法  
FS2 と FS3 を押したままで電源をONする。  
画面に REVERTING... と出るまで押し続ける。  
### 4-2. シーン
STOMPモードなどで、FSを押したときの動作について、標準の「一つのモデルをON/OFF」ではなく、「複数のモデルの状態をいっぺんに切り替える」ように変更するもの。  
したがって、各Rigの、ハードウェアセッティングで、３つのFSそれぞれに対して設定できるが、FS2とFS3にシーンを設定しても、STOMPモードの時しか使えず、Hybridモードの時には自ずとFS1しか使えない。  
### 4-3. Setlists
1. 既存のセットリストを編集するには、セットリスト選択時、そのセットリスト名の左側の「…」をタップ。
2. 新規にセットリストを作成するには、セットリスト選択時、画面右肩の「…」->「New」をタップ。
  
### 4-4. Global Settings

### 4-5. ファームウェアアップデート
1. PCとUSB接続後、MX5の電源ON
2. MX5の画面右上の「…」、「Global Settings」
3. 「…」、「Firmware Update」、「OK」
4. PCで「HeadRush Updater」起動、「Update HeadRush」
5. 「Done」、閉じると、MX5が再起動
6. 「…」、「Global Settings」でバージョン確認

### 4-6. 画面
- Setlist：MX5の画面左上のハンバーガーリストをタップ
- リグのリスト：リグ名をタップ
- SAVE：リグの変更を保存
- 「…」：Global Settingsへ
- 「・・・・」：シグナルパスオプション
- 「TAIL」：スピルオーバー

### 4-7. 用語
- Rig：
- Setlist：
- Scene：